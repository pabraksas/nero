# Как настроить синхронизацию хранилища Obsidian бесплатно при помощи Git?

### **_[Оригинал](https://desktopofsamuel.com/how-to-sync-obsidian-vault-for-free-using-git/) статьи._**

Гайд по установке личного Obsidian Sync с помощью Git.

![](https://img1.teletype.in/files/43/8d/438db746-5395-4fab-a7c2-31ccf4d091fd.png)

Obsidian - это недавно появившееся и набирающее обороты приложение для заметок, которое имеет огромнейший потенциал, из-за чего возможности синхронизации достаточно ограничены. Официально, вы должны заплатить ~~$4~~ ~~$8~~ $10/мес. за [Obsidian Sync](https://obsidian.md/sync).

Так как Obsidian позволяет свободно выбирать место сохранения хранилища и открыто хранить у себя файлы в таких форматах, как Markdown. Используя облачные сервисы синхронизации, такие как, например, Dropbox, Google Drive и iCloud Drive, целые папки могут быть синхронизированы и отредактированы при помощи таких приложений с поддержкой Markdown, как [iA Writer](https://ia.net/writer), [Ulysses](https://ulysses.app/), [Pretext](https://apps.apple.com/us/app/pretext/id1347707000). Но таких функций, как двухстороннее линкование и теггинг там в наличии нет.

Но, даже несмотря на то, что облачные сервисы легко и просто настраиваются, многие люди, скорее всего, уже оформили себе подписки. Это сервисы были созданы не для отслеживания заметок и изменений. Конфликт версий между устройствами может привести к потере данных. Поэтому, я рекомендую Git как альтернативное решение. Этот оюучающий материал позволит вам настроить Git для синхронизации Obsidian бесплатно (и без печатания в командной строки, как в обычном Git'е).

Имейте в виду, что этот подход не рекомендуется, если у вас есть предубеждения по поводу безопасности, поскольку никакие файлоы не шифруются, из-за чего всё доступно сторонней платформе.

## Что такое Git и как он помогает?

![](https://img3.teletype.in/files/e5/b0/e5b0dd17-daf8-4240-b8fb-e410936273db.png)

Примерный вид ветки (branch) в Git

Git - это ПО для отслеживания и синхронизации кодов для разработчиков. Поскольку он может сравнивать версии разных текстовых файлов, он позволит нам отслеживать любые изменения, внесенные в хранилище Obsidian. Существует очень редкая вероятность того, что ваши заметки будут потеряны. Кроме того, это также очень популярная платформа, большинство клиентов Git на ПК бесплатны (в то время как некоторые мобильные приложения могут потребовать оплаты).

Примечание: Первые 3 шага моего урока будут заключаться в создании репозитория Github. Если вы уже знакомы с Git, пожалуйста, запустите git самостоятельно и перейдите к шагу 4. Поскольку эта статья написана для широкой публики, я буду избегать использования инструментария из командной строки в этом руководстве.

Приступим!

## 1. Зарегистрируйтесь и скачайте Github for Desktop

Зарегистрируйте себе аккаунт на [Github.com](https://github.com/) (либо войдите в свой уже существующий), так как мы будем использовать репозиторий Github, чтобы синхронизировать наше хранилище Obsidian. На всякий случай установите двухфакторную аутентификацию, чтобы обезопасить свой аккаунт. Затем, скачайие м установите [Github for Desktop](https://desktop.github.com/). Это приложение, которое позволит нам исполнять множест Git команд без прибегания к инструментарию командной строки.

## 2. Добавьте хранилище Obsidian в Github

Если вы уже создали хранилище Obsidian, то нам понадобится только лишь подготовить папки для Git. Это позволит плагину, который мы установим, синхронизироваться с Github. Откройте Github for Desktop, и нажмите "Добавить существующий репозиторий с вашего жесткого диска (Add an Existing Repository from your Hard Drive)".

![](https://img1.teletype.in/files/cf/74/cf74cc10-443a-4ae8-a791-d63708581650.png)

Затем вам нужно выбрать местоположение хранилища, Git будет использовать дотфайлы (dotfiles, скрытые папки) для хранения данных в вашем каталоге (впоследствии вы можете просмотреть папку .git, нажав Cmd + Shift +. или включите отображение скрытых элементов в проводнике Windows). Появится предупреждение о том, что "Каталог не является репозиторием Git (The directory does not appear to be a Git repository)". Затем вам нужно будет нажать "Создать репозиторий (Create a repository)", чтобы продолжить.

![](https://img2.teletype.in/files/16/20/16205783-c2db-42b3-8452-ecd2ff490c69.png)

Заметьте, что Git должен быть сохранён в корневую директорию хранилища, а не в какую-либо из подпапок.

Затем, введите имя и описание проекта, локальный путь уже должен быть заполнен. Остальные вопросы пока можно проигнорировать. Затем нажмите "Создать репозиторий (Create Repository)".

![](https://img2.teletype.in/files/9f/a4/9fa4652d-40b5-41fa-b352-23dc8411786c.png)

(Вы также можете нажать "Создать новое хранилище (Create a New Repository)" в начале, однако Github создаст подпапку, используя поле Name, вместо того, чтобы выбирать выбранную папку в качестве репозитория git. Поэтому вам нужно будет сопоставить имя папки на родительском уровне.)

## 3. Войдите и загрузите хранилище в Github

На данный момент мы только что завершили настройку git на компьютере. Добавьте сообщение о фиксации "Commit Message" (например, Initial Commit), а затем нажмите "Опубликовать репозиторий (Publish Repository)", чтобы загрузить всю папку на Github. Нам все равно нужно будет войти в вашу учетную запись на Github, нажмите"Github.com "для входа через браузер.

![](https://img2.teletype.in/files/19/aa/19aa79f7-0736-4495-8c2f-3493a067494a.png)

Обязательно отметьте галочку «Keep this code private», чтобы репоизторий был скрыт от остальных.

После входа в систему, снова нажмите Опубликовать (Publsih), далее нам нужно будет ввести имя репозитория на Github (такое же, как и имя во 2 шаге). Сделайте своё хранилище частным (по умолчанию оно общедоступно), чтобы избежать нежелательный доступ к вашим заметкам. Затем, нажмите "Опубликовать репозиторий (Publish Repository)". Когда текст кнопки "Опубликовать репозиторий " поменяется на "Fetch Origin" - поздравляем, вы успешно загрузили своё хранилище на Github! Можете перепроверить это в своем браузере, там вы сразу должны найти свой репозиторий на Github.com.

![](https://img3.teletype.in/files/23/d8/23d854d3-f6b0-48f7-bc8b-9267e65c9e1f.png)

Примерно так оно должно выглядеть.

## 4. Скачайте Obsidian Git

![](https://img4.teletype.in/files/fc/01/fc01f2fd-3e1a-43cb-a02a-998f3cfb3804.png)

Откройте настройки в вашем Obsidian на вкладке "Сторонние плагины", там вам нужно будет отключить безопасный режим перед установкой плагина, т.к. они могут получать доступ к содержимому вашего хранилища и изменять его. Лучше сделать резервную копию своего хранилища перед установкой. Найдите плагин "Obsidian Git" и скачайте его, после чего активируйте его на странице сторонних плагинов. Этот плагин будет напрямую использовать ваши настройки git в папке для синхронизации с Github.

![](https://img4.teletype.in/files/36/45/36458c73-cf10-49f3-9ae3-8e58c6e7f8c8.png)

После установки и активации, появятся настройки плагина для Obsidian Git. Если вы просто хотите просматривать содержимое Obsidian на других своих устройствах, то я бы порекомендовал следующее:  
- Установите интервал резервного копирования 5-10 минут, чтобы снизить нагрузку приложения и повысить производительность  
- Включите настройку "Pull updates on startup". Это позволит вам убедиться, что ваши устройства успешно синхронизируются всякий раз, когда приложение запускается.  
- Добавьте имя вашего устройства в качестве идентификатора в шаблон сообщения о фиксации, чтобы вы могли понимать, с какого устройства в данный момент пришло последнее обновление (например: резервная копия хранилища ПК: {{date}})  
- И самое важное: отключите функцию "Disable Push", чтобы включить отправку этих пушей на Github, иначе она будет доступна только в локальной сети.

![](https://img1.teletype.in/files/c0/74/c07495ec-15af-47f3-9e18-20db9e9d5356.png)

Также, на странице "Сочетания клавиш" я добавил команду для Obsidian Git, чтобы я мог быстро сделать бекап вручную: Cmd+Shift+= для Commit'а, Cmd+Shift+- для загрузки данных из репозитория.

Теперь попробуйте добавить заметку, используйте своё сочетание клавиш, либо подождите некоторое время. в правом нижнем углу плагин будет показывать статус вашего commit'а! Теперь, мы успешно засинхронизировались с Github!

![](https://img1.teletype.in/files/4d/83/4d83ccdf-188f-45b5-aab6-08cfc32dbf29.png)

## 5. Используйте Obsidian на других устройствах

Теперь, всё что вам нужно - это скачать Obsidian и [Github for Desktop](https://desktop.github.com/) на другой компьютер, склонировать только что созданный депозиторий, и повторить шаги от 1 до 4, чтобы настроить Git и Obsidian Git. Ваши компьютеры будут синхронизированы автоматически.

Для телефонов, нам понадобится приложение с поддержкой Git для того, чтобы читать или писать заметки.  
- Если вам понадобиться только читать - [Официальное приложение Github](https://github.com/mobile), где можно просмотреть все свои репозитории.  
- Для записи И чтения - [Working Copy](https://workingcopyapp.com/), бесплатное приложение, Pro-версия которого стоит $19,99 (₽1790), хотя это единоразовый платёж. В дополнение к этому, вам понадобится какое-либо приложение, по типу того же Pretext или iAWriter, которое поддерживает Файлы и открытие Markdown-файлов оттуда.

## Как решить ошибки с синхронизацией в Obsidian Git?

Даже если вы настроите синхронизацию, все равно может возникнуть конфликт, подобный приведенному ниже снимку экрана. Нам придётся воспользоваться Github for Desktop, чтобы разрешить сей конфликт.

![](https://img1.teletype.in/files/8d/32/8d32d11d-5481-4275-a4bd-aa1b1ee87c51.png)

Obsidian Git не показывает, откуда идёт ошибка, но зато это показывается более ясно в Github for Desktop.

В большинстве случаев, Github порекомендует вам отложить конфликтные файлы, после чего сделать pull и применить отложенные изменения. Проследите по скриншотам ниже: сначала нажмите "Stash & Continue", затем "Pull Origin" и "View Stashed after pulling", после чего вы сможете восстановить изменения. Наконец, сделайте commit вручную в Github и сделайте push. Это, как правило, также разрешит конфликт. Если конфликт находится в пределах какой-то одной строки, то вам придётся удалить ошибку вручную в Obsidian.

![](https://img1.teletype.in/files/81/73/81737fe7-e28b-43c8-a69b-9a0e16b32773.png)

Stash Changes сохранит ваши конфликтные файлы, и вы сможете восстановить их позже.

## Заключение

На данный момент, я в исследовательской стадии пользования Obsidian. Сделать так, чтобы заметки синхронизировались это только первый шаг, но я чувствую, что у Obsidian имеется большой потенциал. Это не замена Evernote или Notion, но что-то нечто больше.

Плагины сообщества это тоже большая часть экосистемы, которая как позволяет менять оформление, так и улучшать свою продуктивность. Например, [Day Planner](https://github.com/lynchjames/obsidian-day-planner) совмещает Markdown с календарём, служа как персональный ежедневник. Я буду рад поделиться ещё своим опытом в Obsidian, если у вас появятся вопросы - не стесняйтесь задать их в [Твиттере](https://twitter.com/desktopofsamuel/).